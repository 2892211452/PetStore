<!DOCTYPE html>
<html lang="en">
<head>
<title>Home</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta charset="utf-8">
<meta name="keywords" content="" />
<script src="https://cdn.staticfile.org/vue/2.2.2/vue.min.js"></script>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" /> 
<meta name="keywords" content="Personal Profile Form Widget Responsive, Login form web template, Sign up Web Templates, Flat Web Templates, Login signup Responsive web template, Smartphone Compatible web template, free webdesigns for Nokia, Samsung, LG, SonyEricsson, Motorola web design" />
<!-- //for-mobile-apps -->
<link href='//fonts.googleapis.com/css?family=Questrial' rel='stylesheet' type='text/css'>
<link href='//fonts.googleapis.com/css?family=Open+Sans:400,300,300italic,400italic,600,600italic,700,700italic,800,800italic' rel='stylesheet' type='text/css'>
<link rel="stylesheet" href="css/j-forms.css">
<link href="css/style3.css" rel="stylesheet" type="text/css" media="all" />
<script type="application/x-javascript"> addEventListener("load", function() { setTimeout(hideURLbar, 0); }, false); function hideURLbar(){ window.scrollTo(0,1); } </script>
<!-- bootstrap-css -->
<link href="css/bootstrap.css" rel="stylesheet" type="text/css" media="all" />
<!--// bootstrap-css -->
<!-- css -->
<link rel="stylesheet" href="css/style.css" type="text/css" media="all" />

<!--// css -->
<!-- font-awesome icons -->
<link href="css/font-awesome.css" rel="stylesheet"> 
<!-- //font-awesome icons -->
<!-- font -->
<link href='http://fonts.googleapis.com/css?family=Pacifico' rel='stylesheet' type='text/css'>
<link href="http://fonts.googleapis.com/css?family=Raleway:100,100i,200,200i,300,300i,400,400i,500,500i,600,600i,700,700i,800,800i,900,900i" rel="stylesheet">
<link href='http://fonts.googleapis.com/css?family=Roboto+Condensed:400,700italic,700,400italic,300italic,300' rel='stylesheet' type='text/css'>
<!-- //font -->
<link rel="stylesheet" href="https://unpkg.com/antd@3.9.3/dist/antd.min.css"/>

<script src="js/jquery-1.11.1.min.js"></script>
<script src="js/bootstrap.js"></script>
<script type="text/javascript">
	jQuery(document).ready(function($) {
		$(".scroll").click(function(event){		
			event.preventDefault();
			$('html,body').animate({scrollTop:$(this.hash).offset().top},1000);
		});
	});
</script> 
<!--[if lt IE 9]>
  <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
<![endif]-->
</head>
<body>
<div id="app">
	<!-- //copyright -->
	<script src="js/responsiveslides.min.js"></script>
	<script src="js/SmoothScroll.min.js"></script>
	<script type="text/javascript" src="js/move-top.js"></script>
	<script type="text/javascript" src="js/easing.js"></script>
		<!-- here stars scrolling icon -->

	<!-- banner -->
	<div class="banner" style="padding-bottom: 0px;">
		<div class="header">
			<div class="container">
				<div class="header-left">
					<div class="w3layouts-logo">
						<h1>
							<a href="index.html">Pet <span>Store</span></a>
						</h1>
					</div>
				</div>
				<div class="header-right">
					<div class="top-nav">
						<nav class="navbar navbar-default">
								<div class="navbar-header">
									<button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
										<span class="sr-only">Toggle navigation</span>
										<span class="icon-bar"></span>
										<span class="icon-bar"></span>
										<span class="icon-bar"></span>
									</button>
								</div>
							<!-- Collect the nav links, forms, and other content for toggling -->
							<div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
								<ul class="nav navbar-nav">
									<li><a class="active" href="index.html">主页</a></li>
																	
									<li><a href="clasify.html">分类</a></li>
														
								</ul>	
								<div class="clearfix"> </div>
							</div>	
						</nav>		
					</div>
				<div class="agileinfo-social-grids">
						
							  <div class="col-lg-6" style="width:300px">
								<div class="input-group">
								<input type="text" class="form-control" placeholder="请输入搜索内容" v-model:value="searchValue">
								<span class="input-group-btn">
									<button class="btn btn-default" type="button" v-on:click="search">搜索</button>
								</span>
								</div><!-- /input-group -->
							</div><!-- /.col-lg-6 -->
					</div>
			<div class="clearfix"> </div>
				</div>
				<div class="clearfix"> </div>
			</div>
		</div>
	
	</div>


		<script src="js/jquery.1.11.1.min.js"></script>

    
<div class="content" >
		<h1>个人信息</h1>
		<div class="main w3l">
			<div class="im-g">
				<img src="images/img1.jpg" alt="">
			</div>
			<form class="contact-forms wthree" v-on:input="change()">
				<!-- end /.header-->

					<!-- start name -->
					<div class="first-line agileits">
						<div class="span6 main-row">
							<div class="input">
								
								<input type="text" id="first_name" name="first_name" placeholder="First name" required="" v-model="user.first_name">
							</div>
						</div>
						<div class="span6 main-row">
							<div class="input">
								
								<input type="text" id="last_name" name="last_name" placeholder="Last name" required="" v-model="user.last_name">
								
							</div>
						</div>
					</div>
					<!-- end name -->

					<!-- start email phone -->
					<div class="first-line agileits">
						<div class="span6 main-row">
							<div class="input">
								
								<input type="email" placeholder="Email" id="email" name="email" required="" v-model="user.email">
							</div>
						</div>
						<div class="span6 main-row">
							<div class="input">
								
								<input type="text" placeholder="Phone" id="phone" name="phone" required="" v-model="user.phone">
							</div>
						</div>
					</div>
				<div class="main-row">
						<label class="input select">
							<select name="position"  v-model="user.gender" >
								<option value="none" selected disabled="">Gender</option>
								<option value="male">公的</option>
								<option value="female">母的</option>
							</select>
							<i></i>
						</label>
					</div>

			
					<!-- end country -->
		
					<!-- end position -->
			
					<!-- start address -->
					<div class="main-row">
						<div class="input">
							
							<input type="text" id="address" placeholder="Address" name="address" required="" v-model="user.address">
						</div>
					</div>
					<!-- end address -->


					

					<!-- start message -->
					<div class="main-row">
						<div class="input">
							<textarea v-model="user.info" placeholder="Additional info" spellcheck="false" name="message"></textarea>
								<span class="tooltip tooltip-right-top">Key Skills</span>
						</div>
					</div>
					<!-- end message -->

					<!-- start files -->
					
						
						
					
					<!-- end files -->

			
				<!-- end /.content -->

				<div class="footer">
					<button  class="primary-btn">更新信息</button>
				</div>
				<!-- end /.footer -->

			</form>
		</div>
</div>
	<!-- news -->

	<!-- //news -->
	<!-- footer -->
	
	<!-- footer -->
	<!-- copyright -->
	
	</div>
</div>
</body>	
<script>
var vm = new Vue({
  el: '#app',
  data: {
	test :"test",
	searchValue:"",
	user:{
		first_name:"姓",
		last_name:"名",
		email:"邮箱",
		phone:"电话",
		gender:"none",
		address:"地址",
		info:"个性签名",
	}


  },
  created(){
	  console.log(this.test);
	  this.initDate();

	  //载入值

  },
  methods:{
	  initDate(){
			var settings = {
			"async": true,
			"crossDomain": true,
			"url": "http://localhost:8090/getAccountByName?usernmae="+ window.name,
			"method": "POST",
			"headers": {
				"content-type": "application/json",
				"cache-control": "no-cache",
				"postman-token": "4e5af8d3-bc63-9251-eef2-bd40ba6ca331"
			}
			}

			self = this;

			$.ajax(settings).done(function (response) {
			console.log(response);
				temp  = response.data.result;
				self.user.first_name=temp.firstname;
				self.user.last_name=temp.lastname;
				self.user.phone=temp.phone;
				self.user.gender=temp.state;
				self.user.address=temp.addr1;
				self.user.info="个性签名";
				self.user.email = temp.email;
			});
	  },

	  clickAdd(){
		  	console.log('load');
			
	  },
	  search(){
		  console.log(this.searchValue)
			//window.location.href="search?search="+this.searchValue;   
	  },
	  change(){
		  self = this.user;
			  console.log(this.user);
			  var data = JSON.stringify({
  "userid": window.name,
  "email": self.email,
  "firstname": "x",
  "lastname": "x",
  "status": "OK",
  "addr1": self.address,
  "addr2": "lll2",
  "city": "Tokyo",
  "state": "WWF",
  "zip": "zero",
  "country": "Japan",
  "phone": self.phone,
  "password": "x",
  "langpref": "chinese6",
  "favcategory": "fish",
  "mylistopt": 2,
  "banneropt": 3,
  "pwd": "x"
});

var xhr = new XMLHttpRequest();
xhr.withCredentials = true;

xhr.addEventListener("readystatechange", function () {
  if (this.readyState === 4) {
    console.log(this.responseText);
  }
});

xhr.open("POST", "http://localhost:8090/updateUserInfo");
xhr.setRequestHeader("content-type", "application/json");
xhr.setRequestHeader("cache-control", "no-cache");
xhr.setRequestHeader("postman-token", "fe17f07c-5d01-71ed-0cd2-fc20ab0a98d9");

xhr.send(data);

	  }

  }
  
})
</script>
</html>